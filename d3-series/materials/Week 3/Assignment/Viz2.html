<html>

    <head>
        <title>TEST</title>
    </head>

    <body>
        <div id="viz"></div>

        <script src="https://d3js.org/d3.v4.min.js"></script>
        <script>
            

            d3.json('data.json', function (data) {

                data.sort(function(x,y){
                    return d3.ascending(x.size,y.size);
                });
                console.log(data);
                var height = 800;
                var width = 1000;

                var svg = d3.select("#viz")
                    .append('svg')
                    .attr('height', height)
                    .attr('width', width);
                var xx=20;
                var selection = svg.selectAll('rect')
                    .data(data)
                    .enter()
                    .append('rect')
                    .attr('x', function(d){
                        xx =xx+d.size+10;
                        return xx;
                    })
                    .attr('y', 40)
                    .attr('height', function (d) {
                        return 0.5 * d.size;
                    })
                    .attr('width', function (d) {
                        return d.size;
                    })
                    .attr('stroke', function (d) {
                        return d.color;})
                    .attr('fill', function (d) {
                        return d.color;});
                var cx=20;
                var cy = 200;
                var cir = svg.selectAll('circle')
                    .data(data)
                    .enter()
                    .append('circle')
                    .attr('cx',function(d){
                        return cx+d.size;
                        
                    })
                    .attr('cy',function(d){
                        return cy + 2 * d.size;
                        ;
                    })
                    .attr('r',20)
                    .attr('fill', function (d) {
                        return d.color;});
                

            });

 


        </script>
    </body>

</html>